max v2;#N vpatcher 9 44 759 506;#P origin 0 1;#P window setfont "Sans Serif" 9.;#P hidden newex 247 271 68 196617 loadmess set;#P window linecount 2;#P comment 406 230 95 196617 Queue Color (blends to inactive color);#P window linecount 1;#P hidden message 401 235 71 196617 saturation \$1;#P user uslider 389 254 13 21 256 1 0 0;#P user swatch 401 254 129 37;#P newex 401 298 88 196617 prepend queuergb;#P window linecount 0;#P message 224 320 120 196617;#P window linecount 1;#P newex 224 300 62 196617 prepend set;#N vpatcher 10 96 442 454;#P window setfont "Sans Serif" 9.;#P hidden newex 100 60 48 196617 loadbang;#P window linecount 1;#P hidden message 105 309 29 196617 setq;#P hidden newex 113 208 62 196617 prepend set;#P toggle 320 105 15 0;#P newex 320 133 64 196617 metro 1000;#P button 269 107 36 0;#N vpatcher 461 97 1009 449;#P window setfont "Sans Serif" 9.;#P window linecount 5;#P comment 351 199 151 196617 You only need to do this once. Active state is saved with the patch. So you could copy and past this patch and not worry about it.;#P window linecount 1;#P message 338 175 79 196617 active preset 0;#P window linecount 2;#P comment 279 123 200 196617 Send these messages to prevent pattrstorage from recalling these pattrs:;#P window linecount 0;#P message 320 156 104 196617 active presetqueue 0;#P inlet 26 91 15 0;#P message 54 93 41 196617 zlclear;#P newex 54 71 50 196617 route " ";#P newex 54 50 163 196617 pattr presetqueue @autorestore 0;#X prestore 1 0 " ";#P objectname presetqueue;#P newex 61 170 96 196617 if $i1 <= 1 then " ";#P newex 61 148 34 196617 zl len;#P newex 50 120 36 196617 zl reg;#P newex 50 202 51 196617 zl slice 1;#P newex 50 302 63 196617 route recall;#P newex 50 241 138 196617 pattr preset @autorestore 0;#X prestore 1 0 1;#P objectname preset;#P newex 50 268 214 196617 pattrstorage @name storage @autorestore 0 @savemode 0 @dirty 0;#X client_rect 0 0 640 240;#X storage_rect 0 0 640 240;#P objectname storage[1];#P comment 277 69 242 196617 These pattrs (presetqueue and preset) are only for communication purposes and shouldn't be recalled by the pattrstorage.;#P comment 108 72 120 196617 pattr needs to store something \, so " " is used to represent nothing;#P connect 12 0 6 0;#P connect 6 0 5 0;#P fasten 4 0 3 0 55 325 44 325 44 234 55 234;#P connect 5 0 3 0;#P connect 3 0 2 0;#P fasten 13 0 2 0 325 262 55 262;#P fasten 15 0 2 0 343 262 55 262;#P connect 2 0 4 0;#P fasten 8 0 9 0 66 191 233 191 233 40 59 40;#P fasten 5 1 9 0 96 225 233 225 233 40 59 40;#P connect 9 0 10 0;#P connect 10 0 11 0;#P connect 6 0 7 0;#P connect 7 0 8 0;#P fasten 11 0 6 1 59 114 81 114;#P fasten 10 1 6 1 99 114 81 114;#P pop;#P newobj 269 176 57 196617 p subpatch;#P objectname subpatch;#P hidden newex 105 274 50 196617 route " ";#P hidden newex 145 309 67 196617 prepend setq;#P window linecount 2;#P hidden newex 105 237 109 196617 pattr @bindto subpatch::presetqueue;#X prestore 1 0 " ";#P objectname u598000111;#P window linecount 1;#P hidden newex 15 272 61 196617 route store;#P hidden newex 15 302 62 196617 prepend set;#P hidden message 114 85 50 196617 queue \$1;#P toggle 100 85 15 0;#P hidden message 28 208 49 196617 store \$1;#P window linecount 2;#P hidden newex 15 235 89 196617 pattr @bindto subpatch::preset;#X prestore 1 0 1;#P objectname u067000112;#P window linecount 1;#P comment 19 87 76 196617 Queued Recall:;#P user jsui 15 101 100 100 1 0 0 ajm.psui.js;#P window setfont "Sans Serif" 12.;#P window linecount 0;#P comment 10 8 336 196620 Sometimes you will want the queueing system to be controlled elsewhere in your patch \, instead of banging the psui object. Here's one way to do it.;#P window setfont "Sans Serif" 9.;#P comment 254 69 159 196617 Elsewhere in the patch \, a bang comes in to advance the queue:;#P hidden comment 226 253 141 196617 Change the pattr bindto paths as needed for your patch.;#P hidden comment 158 269 51 196617 A space means no queue;#P comment 140 147 46 196617 unlock the patch;#P hidden fasten 11 0 5 0 20 327 7 327 7 90 20 90;#P hidden connect 10 0 5 0;#P hidden fasten 14 0 5 0 150 332 217 332 217 72 20 72;#P hidden fasten 21 0 5 0 110 332 217 332 217 72 20 72;#P hidden fasten 8 0 7 0 33 228 20 228;#P hidden connect 5 0 7 0;#P hidden connect 7 0 12 0;#P hidden connect 12 0 11 0;#P hidden fasten 12 1 11 0 71 294 20 294;#P hidden connect 5 1 8 0;#P hidden fasten 20 0 9 0 118 230 188 230 188 80 105 80;#P hidden connect 22 0 9 0;#P hidden connect 5 2 13 0;#P hidden connect 13 0 15 0;#P hidden connect 15 0 21 0;#P hidden connect 5 3 20 0;#P hidden connect 9 0 10 0;#P hidden connect 15 1 14 0;#P connect 18 0 16 0;#P connect 17 0 16 0;#P connect 19 0 18 0;#P pop;#P newobj 364 373 198 196617 p ajm.psui: decoupling the queuing system;#B color 6;#P objectname decoupling-example;#N vpatcher 90 113 690 513;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P message 383 105 43 196617 cols \$1;#P number 383 84 35 9 1 8 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P number 322 82 35 9 1 8 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P user jsui 322 141 193 197 1 0 0 ajm.psui.js;#P window linecount 0;#P message 322 105 48 196617 rows \$1;#P user jsui 65 110 166 164 1 0 0 ajm.psui.js 6 5;#P comment 67 42 181 196617 Accepts two optional arguments: number of columns and number of rows;#P comment 328 52 155 196617 Or change the number of rows and columns with messages:;#P comment 74 92 137 196617 this has arguments: 6 5;#P connect 6 0 4 0;#P connect 4 0 5 0;#P fasten 8 0 5 0 388 130 327 130;#P connect 7 0 8 0;#P pop;#P newobj 364 347 184 196617 p ajm.psui: number of rows & columns;#B color 6;#P bpatcher 592 387 127 49 0 0 ajm.helplinks.pat 0;#P message 56 139 45 196617 recall 6;#P message 37 165 43 196617 store 9;#P message 518 418 25 196617 jsui;#P comment 358 419 48 196617 see also:;#P message 405 418 67 196617 pattrstorage;#P message 479 418 33 196617 pattr;#P hidden newex 398 445 64 196617 prepend help;#P hidden newex 398 468 45 196617 pcontrol;#P message 35 140 14 196617 5;#P hidden newex 296 127 55 196617 delay 500;#P hidden newex 296 103 48 196617 loadbang;#P comment 37 119 290 196617 Click a number to recall a preset. Shift+click to store a preset.;#P hidden newex 326 175 27 196617 t i i;#P hidden newex 296 150 40 196617 uzi 16;#P newex 30 88 230 196617 pattr number @bindto thenumber @autorestore 0;#X prestore 1 0 16;#P objectname number;#P number 89 70 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P objectname thenumber;#P comment 69 318 48 196617 Recalled;#P comment 149 316 40 196617 Stored;#P newex 137 331 72 196617 prepend store;#P comment 427 143 94 196617 Text Color;#P hidden message 397 137 71 196617 saturation \$1;#P user uslider 385 156 13 21 256 1 0 0;#P user swatch 397 156 129 37;#P newex 397 200 82 196617 prepend textrgb;#P window linecount 2;#P newex 107 355 209 196617 pattrstorage @name psui-help @savemode 0 @dirty 0;#X client_rect 0 0 640 240;#X storage_rect 0 0 640 240;#P objectname psui-help[1];#P comment 548 228 157 196617 Saving Preset Color (appears momentarily when shift clicking);#P window linecount 1;#P comment 572 142 100 196617 Active Preset Color;#P comment 565 55 109 196617 Inactive Preset Color;#P window linecount 2;#P comment 145 23 158 196617 pattrstorage preset management UI with queued recall;#P window setfont Arial 18.;#P window linecount 1;#P comment 21 18 102 -1205862382 ajm.psui;#P window setfont "Sans Serif" 9.;#P comment 22 43 100 196617 JSUI;#P message 151 166 50 196617 queue \$1;#P toggle 151 145 15 0;#P button 107 148 32 0;#P number 148 300 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden message 550 234 71 196617 saturation \$1;#P user uslider 538 253 13 21 256 1 0 0;#P user swatch 550 253 129 37;#P newex 550 296 87 196617 prepend storergb;#P number 72 302 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden message 555 137 71 196617 saturation \$1;#P user uslider 543 156 13 21 256 1 0 0;#P user swatch 555 156 129 37;#P hidden message 553 48 71 196617 saturation \$1;#P user uslider 541 68 13 21 256 1 0 0;#P user swatch 553 68 129 37;#P hidden message 403 47 71 196617 saturation \$1;#P user uslider 391 67 13 21 256 1 0 0;#P newex 555 199 73 196617 prepend onrgb;#P newex 553 109 76 196617 prepend offrgb;#P newex 403 108 68 196617 prepend brgb;#P user swatch 403 67 129 37;#P user jsui 107 189 100 100 1 0 0 ajm.psui.js;#P comment 416 55 100 196617 Background Color;#P comment 31 72 58 196617 thenumber:;#P window setfont "Sans Serif" 12.;#P comment 473 21 161 196620 Customizable colors;#P user panel 377 13 341 309;#X brgb 184 222 229;#X frgb 0 0 0;#X border 1;#X rounded 6;#X shadow 3;#X done;#P window setfont "Sans Serif" 9.;#P window linecount 4;#P comment 211 151 138 196617 When the queue is turned on \, recalls will not occur until a bang is recieved. Multiple recalls can be queued up.;#P window linecount 3;#P comment 16 187 76 196617 Messages work too ("recall" is optional);#P window linecount 2;#P comment 5 408 139 196617 This object is based on a script from the Max tutorials;#P window linecount 1;#P comment 362 334 133 196617 Double click for more info:;#P comment 223 336 53 196617 the queue;#P user panel 10 12 299 46;#X brgb 186 227 208;#X frgb 0 0 0;#X border 1;#X rounded 10;#X shadow 3;#X done;#P background;#P connect 10 0 23 0;#P hidden fasten 50 1 47 0 348 196 356 196 356 66 94 66;#P hidden connect 68 0 10 0;#P fasten 62 0 10 0 61 160 88 160 88 183 112 183;#P fasten 54 0 10 0 40 160 88 160 88 183 112 183;#P fasten 61 0 10 0 42 183 112 183;#P hidden connect 39 0 10 0;#P hidden connect 24 0 10 0;#P fasten 31 0 10 0 156 183 112 183;#P connect 29 0 10 0;#P hidden connect 14 0 10 0;#P hidden connect 13 0 10 0;#P hidden connect 12 0 10 0;#P connect 10 0 38 0;#P fasten 44 0 38 0 142 350 112 350;#P connect 10 1 44 0;#P hidden fasten 50 0 44 0 331 325 142 325;#P connect 10 1 28 0;#P connect 30 0 31 0;#P connect 10 2 66 0;#P hidden connect 73 0 67 0;#P connect 66 0 67 0;#P hidden connect 52 0 53 0;#P hidden connect 53 0 49 0;#P hidden connect 49 2 50 0;#P hidden fasten 41 0 42 0 390 196 379 196 379 132 402 132;#P hidden connect 42 0 40 0;#P connect 40 0 39 0;#P hidden fasten 60 0 56 0 523 437 403 437;#P hidden fasten 58 0 56 0 410 437 403 437;#P hidden fasten 57 0 56 0 484 437 403 437;#P hidden connect 56 0 55 0;#P hidden fasten 70 0 71 0 394 294 383 294 383 230 406 230;#P hidden connect 71 0 69 0;#P connect 69 0 68 0;#P hidden fasten 15 0 16 0 396 110 386 110 386 43 408 43;#P hidden connect 16 0 11 0;#P connect 11 0 12 0;#P hidden fasten 26 0 27 0 543 296 532 296 532 229 555 229;#P hidden connect 27 0 25 0;#P connect 25 0 24 0;#P hidden fasten 18 0 19 0 546 110 536 110 536 44 558 44;#P hidden connect 19 0 17 0;#P connect 17 0 13 0;#P hidden fasten 21 0 22 0 548 199 537 199 537 132 560 132;#P hidden connect 22 0 20 0;#P connect 20 0 14 0;#P pop;