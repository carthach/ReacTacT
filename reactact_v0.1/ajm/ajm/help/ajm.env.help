max v2;#N vpatcher 29 50 639 637;#P origin 0 -9;#P window setfont "Sans Serif" 9.;#P window linecount 5;#P comment 484 387 93 196617 Use this inside of poly~ to mute the voice when the envelope is not active;#P window linecount 1;#N vpatcher 629 156 1009 560;#P window setfont "Sans Serif" 9.;#P comment 50 30 70 196617 ¥Êstart audio;#P message 107 44 27 196617 stop;#P message 34 44 65 196617 startwindow;#P newex 34 77 29 196617 dac~;#P user panel 23 24 123 43;#X brgb 255 255 255;#X frgb 100 202 30;#X border 2;#X rounded 0;#X shadow 0;#X done;#P comment 78 130 42 196617 noteoff;#P window setfont "Sans Serif" 18.;#P message 80 147 21 196626 0;#P message 27 147 21 196626 1;#P window setfont "Sans Serif" 9.;#P comment 26 130 42 196617 noteon;#P user scope~ 103 264 257 365 256 3 64 -1. 1. 0 0. 1 0. 102 255 51 135 135 135 0;#P newex 63 206 49 196617 cycle~ 8;#P newex 103 239 66 196617 ajm.env;#B color 5;#P bpatcher 131 99 212 120 0 0 ajm.envui.pat 0;#P objectname envelope;#P fasten 11 0 9 0 112 73 39 73;#P fasten 10 0 9 0 39 75 39 75;#P fasten 2 0 1 0 68 231 108 231;#P connect 1 0 3 0;#P fasten 6 0 1 1 85 188 122 188;#P fasten 5 0 1 1 32 188 122 188;#P connect 0 0 1 2;#P fasten 0 1 1 3 237 226 150 226;#P fasten 0 2 1 4 338 233 164 233;#P pop;#P newobj 418 37 148 196617 p ajm.envui: a GUI for ajm.env;#B color 6;#P objectname "env UI";#P newex 234 340 48 196617 loadbang;#P comment 72 307 42 196617 noteoff;#P comment 296 287 100 196617 release envelope;#P bpatcher 466 523 127 49 0 0 ajm.helplinks.pat 0;#P newex 220 263 48 196617 loadbang;#P newex 206 166 48 196617 loadbang;#P newex 470 474 48 196617 thispoly~;#P newex 418 429 62 196617 ajm.env;#P newex 470 451 78 196617 ajm.envthispoly;#P newex 119 263 87 196617 scale 0 127 0. 1.;#P newex 104 239 40 196617 notein;#P window linecount 5;#P comment 5 166 187 196617 Send a max amplitude (envelope multiplier) message to trigger the envelope. Its designed to works with MIDI: non-zero value is a note on (attack) and zero is a note off (release).;#P window linecount 3;#P comment 253 361 160 196617 optional sustain point on/off. If off \, release is started immediately after attack finishes.;#P button 505 220 15 0;#P window linecount 1;#P message 220 286 76 196617 0.5 1500 0 50;#P message 206 202 124 196617 0 0 1 500 0.5 750 1 750;#P user function 373 136 517 215 1 1 0 0;#X frgb 82 82 82;#X brgb 204 204 204;#X rgb2 85 85 85;#X rgb3 255 255 255;#X rgb4 0 0 0;#X rgb5 0 0 0;#X add 0. 0. 0;#X add 765.15155 0.166667 0;#X add 909.090942 0.407407 0;#X add 1000. 1. 0;#X domain 1000.;#X range 0. 1.;#X done;#P window setfont "Sans Serif" 18.;#P message 53 263 38 196626 0.5;#P toggle 234 364 15 0;#P message 79 322 23 196626 0;#P message 17 263 23 196626 1;#P user scope~ 178 464 332 565 256 3 64 -1. 1. 0 0. 1 0. 102 255 51 135 135 135 0;#P window setfont "Sans Serif" 9.;#P newex 60 370 49 196617 cycle~ 8;#P comment 165 78 70 196617 ¥Êstart audio;#P message 222 92 27 196617 stop;#P message 149 92 65 196617 startwindow;#P newex 149 125 29 196617 dac~;#P user panel 138 72 123 43;#X brgb 255 255 255;#X frgb 100 202 30;#X border 2;#X rounded 0;#X shadow 0;#X done;#P toggle 234 424 15 0;#P comment 10 550 48 196617 see also:;#P message 57 549 32 196617 line~;#P message 96 549 46 196617 function;#P hidden newex 57 576 64 196617 prepend help;#P hidden newex 66 631 45 196617 pcontrol;#P newex 178 403 66 196617 ajm.env;#B color 5;#P window linecount 2;#P comment 111 23 275 196617 message-driven signal envelope with independent breakpoint lists for attack and release and optional sustain;#P window linecount 1;#P comment 21 43 77 196617 Abstraction;#P window setfont Arial 18.;#P comment 21 18 76 -1205862382 ajm.env;#P window setfont "Sans Serif" 9.;#P window linecount 5;#P comment 126 282 69 196617 the max amplitude typically should go from 0 to 1.;#P window linecount 1;#P comment 255 427 117 196617 is the envelope active?;#P comment 30 245 42 196617 noteon;#P window linecount 2;#P comment 214 218 145 196617 envelopes are in line~ format (list of value-time pairs);#P window linecount 1;#P comment 273 170 100 196617 attack envelope;#P comment 418 23 130 196617 Double click to see the GUI:;#P window linecount 3;#P comment 381 92 143 196617 Works well with function but works even better with ajm.envui (see subpatch);#P user panel 6 11 393 52;#X brgb 186 227 208;#X frgb 0 0 0;#X border 1;#X rounded 7;#X shadow 3;#X done;#P background;#P hidden fasten 14 0 13 0 101 568 62 568;#P hidden fasten 15 0 13 0 62 568 62 568;#P hidden connect 13 0 12 0;#P connect 35 1 36 0;#P fasten 20 0 19 0 154 123 154 123;#P fasten 21 0 19 0 227 120 154 120;#P fasten 23 0 11 0 65 395 183 395;#P connect 11 0 24 0;#P fasten 25 0 11 1 22 361 197 361;#P fasten 26 0 11 1 84 361 197 361;#P fasten 28 0 11 1 58 361 197 361;#P fasten 36 0 11 1 124 361 197 361;#P connect 40 0 30 0;#P connect 30 0 11 2;#P fasten 29 1 11 2 422 246 211 246;#P connect 41 0 31 0;#P connect 31 0 11 3;#P connect 45 0 27 0;#P connect 27 0 11 4;#P connect 11 1 17 0;#P fasten 32 0 29 0 510 241 522 241 522 131 378 131;#P connect 38 1 37 0;#P connect 37 0 39 0;#P connect 29 3 32 0;#P pop;