max v2;#N vpatcher 9 48 925 627;#P origin -80 7;#P button 14 265 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 4;#P comment 31 264 176 196617 The special values for infinity and negative infinity (INF and -INF) are handled properly. Use these to create a sequence that doesn't loop.;#P button 697 528 15 0;#P window linecount 1;#P newex 697 505 46 196617 select 0;#P button 395 528 15 0;#P newex 395 506 46 196617 select 0;#P newex 580 127 27 196617 t b i;#P newex 578 184 29 196617 gate;#P newex 578 158 30 196617 >= 0;#P newex 259 151 71 196617 ajm.rseq2seq;#B color 5;#P newex 259 105 58 196617 metro 100;#P toggle 259 75 22 0;#P newex 259 228 42 196617 noteout;#P newex 259 199 88 196617 makenote 80 250;#P newex 259 176 190 196617 mxj ajm.seq @step 0 @seq C3 D3 F3 G3;#P newex 259 127 179 196617 mxj ajm.rseq @seq 2 2 -2 2 > 2*4 >;#P newex 580 55 58 196617 metro 100;#P toggle 580 25 22 0;#P newex 578 258 42 196617 noteout;#P newex 578 234 88 196617 makenote 80 250;#P newex 580 102 49 196617 route int;#P newex 578 211 190 196617 mxj ajm.seq @step 0 @seq C3 D3 F3 G3;#P newex 580 77 179 196617 mxj ajm.rseq @seq 2 2 -2 2 > 2*4 >;#P bpatcher 767 509 127 49 0 0 ajm.helplinks.pat 0;#P message 115 535 50 196617 ajm.rseq;#P comment 17 536 48 196617 see also:;#P message 64 535 45 196617 ajm.seq;#P hidden newex 64 562 64 196617 prepend help;#P hidden newex 64 585 45 196617 pcontrol;#P button 14 216 15 0;#P button 15 166 15 0;#P button 14 132 15 0;#P newex 533 390 27 196617 t b i;#P newex 531 447 29 196617 gate;#P newex 531 421 30 196617 >= 0;#P number 581 313 35 9 200 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 697 443 38 196617 * 500;#P newex 533 341 58 196617 metro 500;#P toggle 533 314 15 0;#P newex 531 528 42 196617 noteout;#P newex 531 504 94 196617 makenote 80 2500;#P newex 531 472 167 196617 mxj ajm.seq @seq C4 E4 A4 D4 G4;#P newex 533 364 151 196617 mxj ajm.rseq @seq 1 0 2 1 0 1;#P comment 402 419 19 196617 *;#P comment 431 420 55 196617 time / tick;#P window linecount 4;#P comment 17 328 176 196617 Note: one thing this adapter does NOT do is convert floats to ints \, so they will be considered commands for ajm.seq and change the sequence...;#P window linecount 3;#P comment 31 215 176 196617 0 can be used to play simultaneous notes and all notes will use the next non-zero number as the duration;#P window linecount 2;#P comment 29 132 186 196617 negative numbers are filtered out so we can use them to represent rests;#P number 279 316 35 9 200 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 1;#P newex 395 447 38 196617 * 500;#P newex 231 344 58 196617 metro 500;#P toggle 231 317 15 0;#P newex 231 532 42 196617 noteout;#P newex 231 508 88 196617 makenote 80 250;#P newex 231 476 167 196617 mxj ajm.seq @seq C4 E4 A4 D4 G4;#P newex 231 367 151 196617 mxj ajm.rseq @seq 1 0 2 1 0 1;#P window linecount 2;#P comment 184 24 204 196617 a common pattern that simplifies connecting ajm.rseq to ajm.seq;#P window setfont Arial 18.;#P window linecount 1;#P comment 15 16 164 -1205862382 ajm.rseq2seq;#P window setfont "Sans Serif" 9.;#P comment 40 42 68 196617 Abstraction;#P newex 231 413 71 196617 ajm.rseq2seq;#B color 5;#P window linecount 3;#P comment 17 84 186 196617 There are many subtleties in hooking ajm.rseq up to ajm.seq. This adapter takes care of the following:;#P comment 30 167 176 196617 positive numbers bang ajm.seq and route the numeric value elsewhere for duration calculations;#P window linecount 2;#P comment 352 412 46 196617 number of ticks;#P window linecount 1;#P comment 405 467 103 196617 = time until next note;#P window linecount 4;#P comment 578 398 100 196617 Compare what happens when you use this connection strategy;#P window linecount 1;#P comment 338 153 226 196617 use ajm.rseq2seq instead of worrying about this;#P window setfont "Sans Serif" 36.;#P comment 556 134 25 196644 {;#P window setfont "Sans Serif" 12.;#P comment 234 293 169 196620 Better handling of zero;#P user panel 222 285 533 269;#X brgb 236 242 243;#X frgb 0 0 0;#X border 1;#X rounded 12;#X shadow 3;#X done;#P user panel 4 15 387 45;#X brgb 186 227 208;#X frgb 0 0 0;#X border 1;#X rounded 10;#X shadow 3;#X done;#P background;#P hidden fasten 45 0 42 0 120 554 69 554;#P hidden fasten 43 0 42 0 69 554 69 554;#P hidden connect 42 0 41 0;#P connect 18 0 19 0;#P connect 19 0 14 0;#P connect 14 0 10 0;#P connect 10 1 15 0;#P connect 10 0 15 0;#P connect 15 0 16 0;#P connect 16 0 17 0;#P fasten 16 1 17 1 314 528 252 528;#P connect 58 0 59 0;#P connect 59 0 54 0;#P connect 54 0 60 0;#P connect 60 0 55 0;#P connect 60 1 55 0;#P connect 55 0 56 0;#P connect 56 0 57 0;#P connect 56 1 57 1;#P connect 21 0 19 1;#P fasten 20 0 16 2 400 501 314 501;#P fasten 10 2 20 0 296 438 400 438;#P connect 20 0 64 0;#P connect 64 0 65 0;#P fasten 21 0 20 1 284 336 428 336;#P connect 37 1 35 0;#P connect 35 0 36 0;#P connect 36 0 28 0;#P connect 28 0 29 0;#P connect 29 0 30 0;#P connect 31 0 32 0;#P connect 32 0 27 0;#P connect 27 0 37 0;#P fasten 29 1 30 1 620 524 552 524;#P fasten 37 0 36 1 538 413 569 413 569 442 555 442;#P connect 63 1 61 0;#P connect 61 0 62 0;#P connect 62 0 48 0;#P fasten 49 1 48 0 624 204 583 204;#P connect 48 0 50 0;#P connect 50 0 51 0;#P connect 52 0 53 0;#P connect 53 0 47 0;#P connect 47 0 49 0;#P connect 49 0 63 0;#P connect 34 0 32 1;#P connect 50 1 51 1;#P fasten 63 0 62 1 585 150 616 150 616 179 602 179;#P fasten 33 0 29 2 702 498 620 498;#P fasten 27 0 33 0 538 386 702 386;#P connect 33 0 66 0;#P connect 66 0 67 0;#P fasten 34 0 33 1 586 333 730 333;#P pop;